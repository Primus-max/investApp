import{_ as F,a as N,b as S,c as z,d as R,e as j,f as U,g as V,h as Z,i as q,j as H,k as O,l as E,u as T,M as W,m as G,A as J,n as K,I as Q}from"./portfolios-C462jOv3.js";import{_ as $,c as a,o,a as t,u as X,b as _,F as g,r as y,n as A,t as d,d as I,e as Y,f as C,g as L,m as tt,h as b,i as M,w as v,j as c,k as st}from"./index-WHT-nbgU.js";import{P as et,S as ot}from"./StatWidgetCard-C8HGjkzF.js";const at={},rt={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function it(i,e){return o(),a("svg",rt,e[0]||(e[0]=[t("path",{d:"M18.7657 9.15332C18.5846 5.5886 15.6272 2.75 12.0001 2.75C8.25609 2.75 5.22568 5.77442 5.22568 9.5L5.22177 9.91211C5.20248 10.8155 5.09293 11.7877 4.54111 12.7119L4.40634 12.9238L4.40341 12.9277C4.10996 13.3547 3.90006 13.6022 3.65927 13.9795C3.47273 14.2718 3.34888 14.5303 3.29208 14.7773L3.27157 14.8828C3.13367 15.7871 3.71008 16.503 4.71884 16.9209L5.12509 17.0811C9.37155 18.6911 15.136 18.6381 19.2813 16.9209L19.4649 16.8389C20.2997 16.4409 20.7898 15.8202 20.7462 15.0498L20.7286 14.8828C20.686 14.6035 20.5541 14.3136 20.3409 13.9795C20.1001 13.6022 19.8902 13.3547 19.5968 12.9277L19.5938 12.9238C18.8285 11.7964 18.7746 10.5823 18.7745 9.5L18.7657 9.15332ZM20.2794 9.88574C20.2997 10.7582 20.4066 11.4493 20.8321 12.0781L21.2003 12.5889C21.3409 12.7828 21.4883 12.9891 21.6056 13.1729C21.8677 13.5836 22.1239 14.0791 22.212 14.6562L22.2335 14.8311C22.4041 16.5009 21.2923 17.6249 20.1017 18.1963L19.8556 18.3066C15.3543 20.1713 9.19117 20.2295 4.58603 18.4814L4.14462 18.3066C2.8255 17.7601 1.50085 16.5398 1.78818 14.6562L1.82919 14.4434C1.94083 13.9564 2.1653 13.5322 2.39462 13.1729C2.62927 12.8052 2.98281 12.3477 3.16806 12.0781C3.59361 11.4493 3.70047 10.7582 3.72079 9.88574L3.72568 9.5C3.72568 4.94131 7.43235 1.25 12.0001 1.25C16.5678 1.25 20.2745 4.94131 20.2745 9.5L20.2794 9.88574Z",fill:"white"},null,-1),t("path",{d:"M15.2989 18.7344C15.4331 18.3788 15.8172 18.1757 16.1924 18.2754C16.5676 18.3751 16.801 18.7419 16.7412 19.1172L16.7246 19.1924C16.1772 21.2523 14.2582 22.75 12 22.75C9.81229 22.75 7.9424 21.3446 7.33011 19.3838L7.27542 19.1924L7.25882 19.1172C7.19903 18.7419 7.43248 18.3751 7.80765 18.2754C8.1829 18.1757 8.56698 18.3788 8.7012 18.7344L8.72464 18.8076L8.80472 19.0635C9.25933 20.3251 10.5085 21.25 12 21.25C13.5907 21.25 14.9058 20.1981 15.2754 18.8076L15.2989 18.7344Z",fill:"white"},null,-1)]))}const nt=$(at,[["render",it]]),lt={class:"portfolio-card__icons"},_t=["src","alt"],ct=["src","alt"],dt={class:"portfolio-card__icon portfolio-card__icon--more",style:{left:`${2*26}px`,zIndex:3}},pt={class:"portfolio-card__content"},ut={class:"portfolio-card__title"},ft={class:"portfolio-card__row"},vt={class:"portfolio-card__amount"},gt={class:"portfolio-card__arrow"},mt={__name:"PortfolioCard",props:{portfolio:{type:Object,required:!0,validator:i=>i&&typeof i.name=="string"&&typeof i.amount=="number"&&Array.isArray(i.icons)}},setup(i){const e=i,p=X(),f=_(()=>e.portfolio.icons),k=_(()=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:2}).format(e.portfolio.amount)),l=_(()=>typeof e.portfolio.profit=="number"&&typeof e.portfolio.percent=="number"),n=_(()=>l.value?new Intl.NumberFormat("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(Math.abs(e.portfolio.profit)):""),s=_(()=>l.value?Math.abs(e.portfolio.percent).toFixed(0):""),r=_(()=>l.value?e.portfolio.profit>=0?"portfolio-card__profit--positive":"portfolio-card__profit--negative":""),h=_(()=>l.value?e.portfolio.profit>=0?"+":"-":""),x=_(()=>l.value?e.portfolio.profit>=0?"↑":"↓":""),w=P=>new URL(Object.assign({"../../assets/icons/coins/appCoinsBadge.svg":E,"../../assets/icons/coins/bitcoin.svg":O,"../../assets/icons/coins/chainlinkBadge.svg":H,"../../assets/icons/coins/ethereum.svg":q,"../../assets/icons/coins/minaBadge.svg":Z,"../../assets/icons/coins/modul.svg":V,"../../assets/icons/coins/rub.svg":U,"../../assets/icons/coins/sber.svg":j,"../../assets/icons/coins/sovkom.svg":R,"../../assets/icons/coins/tetherBadge.svg":z,"../../assets/icons/coins/tochka.svg":S,"../../assets/icons/coins/ton.svg":N,"../../assets/icons/coins/xmr.svg":F})[`../../assets/icons/coins/${P}.svg`],import.meta.url).href,D=()=>{p.push(`/portfolio/${e.portfolio.id}`)};return(P,B)=>(o(),a("div",{class:"portfolio-card",onClick:D},[t("div",lt,[f.value.length<=3?(o(!0),a(g,{key:0},y(f.value,(m,u)=>(o(),a("img",{key:u,src:w(m),alt:m,class:"portfolio-card__icon",style:A({left:`${u*26}px`,zIndex:u+1})},null,12,_t))),128)):(o(),a(g,{key:1},[(o(!0),a(g,null,y(f.value.slice(0,2),(m,u)=>(o(),a("img",{key:u,src:w(m),alt:m,class:"portfolio-card__icon",style:A({left:`${u*26}px`,zIndex:u+1})},null,12,ct))),128)),t("div",dt," +"+d(f.value.length-2),1)],64))]),t("div",pt,[t("div",ut,d(i.portfolio.name),1),t("div",ft,[t("span",vt,d(k.value),1),l.value?(o(),a("span",{key:0,class:Y(["portfolio-card__profit",r.value])},[C(d(h.value)+d(n.value)+" ",1),B[0]||(B[0]=t("span",{class:"portfolio-card__dot"},"·",-1)),C(" "+d(s.value)+"% ",1),t("span",gt,d(x.value),1)],2)):I("",!0)])])]))}},ht=$(mt,[["__scopeId","data-v-43498866"]]),bt={class:"header__icon"},yt={class:"header__title"},Ct={class:"header__action"},$t={__name:"Header",setup(i){return(e,p)=>(o(),a("header",tt({class:"header"},e.$attrs),[t("div",bt,[L(e.$slots,"left",{},void 0)]),t("span",yt,[L(e.$slots,"default",{},void 0)]),t("div",Ct,[L(e.$slots,"right",{},void 0)])],16))}},Lt=$($t,[["__scopeId","data-v-825c13a6"]]),kt={class:"page__header"},wt={class:"page__header-stats-row"},Pt={class:"page__header-stats-main"},Bt={class:"page__header-stats-info"},At={class:"page__header-stats-value-row"},Mt={class:"page__header-stats-value"},It={class:"page__header-stats-icon"},xt={class:"page__header-bell-bg"},Dt={key:0,class:"page__header-badge-row"},Ft={class:"page__body"},Nt={class:"page__body-header"},St={class:"page__body-header-edit-mode"},zt={class:"page__widgets-grid"},Rt={key:0,class:"page__body-portfolio"},jt={class:"page__body-portfolio-list"},Ut={key:1,class:"page__body-portfolio-empty"},Vt={class:"page__body-portfolio-empty-button"},Zt={__name:"MainPage",setup(i){b(27861.33),b(123456789);const e=b(!1),p=b(!1),f=[{title:"Прибыль",value:67981,currency:"₽",trend:{value:12,positive:!0},chartData:[20,22,28,25,28,12,30,32,33,38,42,40,45,22,23,21,42,26,25,40],color:"green"},{title:"Доходность",value:67981,currency:"₽",trend:{value:8,positive:!1},chartData:[34,32,38,35,32,30,28,25,22,20,18,15,12,10,8,5,2,0,-2,-5],color:"red"},{title:"Стоимость капитала",value:67981,currency:"₽",trend:{value:24,positive:!0},chartData:[40,42,45,43,48,52,50,55,58,62,60,65,68,72,70,75,78,82,85,88],color:"green"}],l=T().getAllPortfolios().map(n=>({...n,amount:n.totalAmount,profit:n.totalProfit,percent:n.totalPercent,icons:Array.isArray(n.assets)?n.assets.map(s=>s.logo):[]}));return(n,s)=>(o(),M(W,null,{header:v(()=>[t("section",kt,[c(Lt,{class:"page__header-nav"},{left:v(()=>s[2]||(s[2]=[t("button",{class:"page__header-cancel"},"Cancel",-1)])),right:v(()=>s[3]||(s[3]=[])),_:1}),t("div",wt,[t("div",Pt,[t("div",Bt,[s[5]||(s[5]=t("span",{class:"page__header-stats-title"},"Общий капитал",-1)),t("div",At,[t("span",Mt,d(p.value?"0":"267 981"),1),s[4]||(s[4]=t("span",{class:"page__header-stats-currency"},"₽",-1))])]),t("div",It,[t("div",xt,[c(nt)])])]),p.value?I("",!0):(o(),a("div",Dt,s[6]||(s[6]=[t("span",{class:"page__header-badge"},[C("+ 27 861,33 ₽ "),t("span",{class:"page__header-badge-percent"},"(18,44%)")],-1),t("span",{class:"page__header-badge-period"},"за все время",-1)])))])])]),default:v(()=>[t("section",Ft,[t("div",Nt,[s[7]||(s[7]=t("h1",{class:"page__body-header-title"},"Виджеты",-1)),t("div",St,[e.value?(o(),a(g,{key:1},[c(et),t("button",{class:"page__body-header-done",onClick:s[1]||(s[1]=r=>e.value=!1)}," Готов ")],64)):(o(),a("button",{key:0,class:"page__body-header-button",onClick:s[0]||(s[0]=r=>e.value=!0)},[c(G,{class:"page__body-header-button-icon"})]))])]),t("div",zt,[(o(),a(g,null,y(f,(r,h)=>c(ot,{key:h,title:r.title,value:r.value,percent:r.trend.value,positive:r.trend.positive,"chart-data":r.chartData,type:h===2?"rect":"square",editMode:e.value,"is-not-data":p.value},null,8,["title","value","percent","positive","chart-data","type","editMode","is-not-data"])),64))]),c(J,{class:"page__app-banner"},{default:v(()=>s[8]||(s[8]=[C(" Умные советы и инструменты для роста ")])),_:1,__:[8]}),p.value?(o(),a("div",Ut,[c(K,null,{default:v(()=>[t("div",Vt,[c(Q,{class:"page__body-portfolio-empty-button-icon"}),s[10]||(s[10]=t("span",{class:"page__body-portfolio-empty-button-label"},"Добавить портфель",-1))])]),_:1})])):(o(),a("section",Rt,[s[9]||(s[9]=t("h2",{class:"page__body-portfolio-title"}," Мои портфели ",-1)),t("ul",jt,[(o(!0),a(g,null,y(st(l),r=>(o(),M(ht,{key:r.id,portfolio:r},null,8,["portfolio"]))),128))])]))])]),_:1}))}},Et=$(Zt,[["__scopeId","data-v-4e5d2d3f"]]);export{Et as default};
