import{_ as A,c as l,o as s,l as P,a as n,r as T,b as M,u as q,n as w,k as p,f as k,w as E,F as f,g as I,D as b,W as H,V as y,t as $,d as S,X as L,E as N,p as V,K as O,i as B,e as x,q as F}from"./index-Ba_bCfkX.js";const R={class:"app-banner"},U={class:"app-banner__content"},D={__name:"AppBanner",setup(r){return(v,c)=>(s(),l("div",R,[c[0]||(c[0]=P('<div class="app-banner__bg" data-v-abb132eb></div><div class="app-banner__waves" data-v-abb132eb></div><div class="app-banner__fractal" data-v-abb132eb></div><div class="app-banner__fractal-glass" data-v-abb132eb></div><div class="app-banner__plastic" data-v-abb132eb></div><div class="app-banner__glass" data-v-abb132eb></div><div class="app-banner__shapes" data-v-abb132eb><div class="app-banner__shape app-banner__shape--1" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--2" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--3" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--4" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--5" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--6" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--7" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--8" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--9" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--10" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--11" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--12" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--13" data-v-abb132eb></div></div><div class="app-banner__shadow" data-v-abb132eb></div>',8)),n("div",U,[T(v.$slots,"default",{},void 0,!0)])]))}},z=A(D,[["__scopeId","data-v-abb132eb"]]),K={key:0,class:"tab-bar__overlay"},W={key:0,class:"tab-bar__menu-nav","aria-label":"Меню действий"},X={class:"tab-bar__menu-list"},Y=["onClick"],j={class:"tab-bar__menu-item-icon"},G={class:"tab-bar__menu-item-label"},J={class:"tab-bar__tabs"},Q=["onClick"],Z={class:"tab-bar__icon"},aa={key:0,class:"tab-bar__label"},ea=["onClick"],na={class:"tab-bar__content"},ta={class:"tab-bar__tabs"},sa=["onClick"],la={class:"tab-bar__icon"},ba={key:0,class:"tab-bar__label"},ra=["onClick"],ia={class:"tab-bar__content"},ca={__name:"TabBar",props:{tabs:{type:Array,required:!0},activeIndex:{type:Number,default:0}},emits:["update:activeIndex","menu-open"],setup(r,{emit:v}){const c=r,_=v,e=M(!1),g=q(),d=w(),m=[{icon:"briefcase-01",label:"Создать портфель"},{icon:"coins-swap",label:"Создать сделку"},{icon:"elements",label:"Добавить виджет"},{icon:"document-text",label:"Загрузить отчет"}];function u(o){c.tabs[o].center?(e.value=!e.value,_("menu-open",e.value)):_("update:activeIndex",o)}function C(o){o.label==="Создать портфель"&&(g.openCreatePortfolioModal(),e.value=!1),o.label==="Создать сделку"&&(d.openAddOperationModal(),e.value=!1)}return(o,h)=>e.value?(s(),l("div",K,[e.value?(s(),l("nav",W,[k(z,{class:"tab-bar__menu-banner"},{default:E(()=>h[0]||(h[0]=[n("div",null,[n("span",{class:"tab-bar__menu-banner-icon"},"✨"),n("span",{class:"tab-bar__menu-banner-title"},"Чат с ИИ"),n("span",{class:"tab-bar__menu-banner-badge"},"3/3 доступно")],-1)])),_:1,__:[0]}),n("ul",X,[(s(),l(f,null,I(m,a=>n("li",{key:a.label,class:"tab-bar__menu-list-item"},[n("a",{href:"#",class:"tab-bar__menu-item",onClick:H(t=>C(a),["prevent"])},[n("span",j,[k(y,{name:a.icon},null,8,["name"])]),n("span",G,$(a.label),1)],8,Y)])),64))])])):p("",!0),n("nav",{class:b(["tab-bar",{"tab-bar--menu-open":e.value}])},[n("div",J,[(s(!0),l(f,null,I(r.tabs,(a,t)=>(s(),l(f,null,[a.center?(s(),l("button",{key:"center-"+t,class:b(["tab-bar__item",{"tab-bar__item--active":t===r.activeIndex,"tab-bar__item--center":a.center}]),onClick:i=>u(t),type:"button"},[n("div",na,[k(y,{name:e.value?"close-square":"plus-sign-square",active:e.value},null,8,["name","active"])])],10,ea)):(s(),l("button",{key:a.label+t,class:b(["tab-bar__item",{"tab-bar__item--active":t===r.activeIndex,"tab-bar__item--center":a.center,"tab-bar__tabs--blur":e.value&&!a.center}]),onClick:i=>u(t),type:"button"},[n("div",{class:b(["tab-bar__content",{"tab-bar__content--blur":e.value}])},[n("span",Z,[a.icon?(s(),S(y,{key:0,name:a.icon,class:b([{"tab-bar__item--active":t===r.activeIndex}])},null,8,["name","class"])):p("",!0)]),a.label?(s(),l("span",aa,$(a.label),1)):p("",!0)],2)],10,Q))],64))),256))])],2)])):(s(),l("nav",{key:1,class:b(["tab-bar",{"tab-bar--menu-open":e.value}])},[n("div",ta,[(s(!0),l(f,null,I(r.tabs,(a,t)=>(s(),l(f,null,[a.center?(s(),l("button",{key:"center-"+t,class:b(["tab-bar__item",{"tab-bar__item--active":t===r.activeIndex,"tab-bar__item--center":a.center}]),onClick:i=>u(t),type:"button"},[n("div",ia,[k(y,{name:e.value?"close-square":"plus-sign-square",active:e.value},null,8,["name","active"])])],10,ra)):(s(),l("button",{key:a.label+t,class:b(["tab-bar__item",{"tab-bar__item--active":t===r.activeIndex,"tab-bar__item--center":a.center,"tab-bar__tabs--blur":e.value&&!a.center}]),onClick:i=>u(t),type:"button"},[n("div",{class:b(["tab-bar__content",{"tab-bar__content--blur":e.value}])},[n("span",la,[a.icon?(s(),S(y,{key:0,name:a.icon,class:b([{"tab-bar__item--active":t===r.activeIndex}])},null,8,["name","class"])):p("",!0)]),a.label?(s(),l("span",ba,$(a.label),1)):p("",!0)],2)],10,sa))],64))),256))])],2))}},_a=A(ca,[["__scopeId","data-v-a7b4da1c"]]),oa={class:"main-layout"},da={key:0,class:"app-blur-overlay"},ua={__name:"MainLayout",setup(r){const v=[{icon:"home-05",label:"Главная"},{icon:"briefcase-01",label:"Портфель"},{center:!0},{icon:"menu-square",label:"Рынок"},{icon:"user",label:"Профиль"}],c=x(),_=F(),e=M(0),g=M(!1),d=w();let m=0;function u(a){switch(e.value=a,a){case 0:c.push("/");break;case 1:c.push("/portfolio/1");break;case 3:console.log("Рынок - пока не реализован");break;case 4:c.push("/profile");break}}function C(a){const i=a.target.scrollTop;i>m&&i>10?d.isTabBarHidden||(d.isTabBarHidden=!0):i<m&&d.isTabBarHidden&&(d.isTabBarHidden=!1),m=i<0?0:i}function o(){_.name==="MainPage"?e.value=0:_.name==="PortfolioPage"||_.name==="AnalyticsPage"?e.value=1:_.name==="ProfilePage"&&(e.value=4)}const h=L();return N(_,o,{immediate:!0}),V(()=>{document.addEventListener("scroll",C,!0)}),O(()=>{document.removeEventListener("scroll",C,!0)}),(a,t)=>(s(),l("div",oa,[g.value?(s(),l("div",da)):p("",!0),n("div",{class:b(["main-layout__header",{"main-layout__header--empty":!B(h).header}])},[T(a.$slots,"header",{},void 0,!0)],2),n("div",{class:b(["main-layout__body",{"main-layout__body--no-header":!B(h).header}])},[T(a.$slots,"default",{},void 0,!0)],2),n("div",{class:b(["main-layout__tabbar-wrap",{"main-layout__tabbar-wrap--hidden":B(d).isTabBarHidden}])},[k(_a,{tabs:v,activeIndex:e.value,"onUpdate:activeIndex":u,onMenuOpen:t[0]||(t[0]=i=>g.value=i)},null,8,["activeIndex"])],2)]))}},va=A(ua,[["__scopeId","data-v-a9180ceb"]]);export{z as A,va as M};
