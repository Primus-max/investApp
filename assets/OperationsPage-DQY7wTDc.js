import{_ as M,s as x,b as v,E as L,J as B,c as m,k as R,o as u,a as e,f as r,L as $,d as U,w as b,e as A,M as D,A as S,t as i,N as w,S as F,F as y,g as k,D as O}from"./index-B2FIjGv2.js";import{_ as P}from"./IconArrowLeft-8RtxrSLe.js";import{M as E}from"./MainLayout-DUwD_fGN.js";const I={key:0,class:"date-range-modal-absolute"},N={class:"date-range-modal-absolute__container"},T={class:"date-range-modal-absolute__content"},j=["disabled"],z={__name:"DateRangePickerModal",props:{modelValue:Boolean,range:{type:Object,default:()=>({start:null,end:null})}},emits:["update:modelValue","update:range","apply"],setup(V,{emit:f}){const _=V,g=f,d=x({get:()=>_.modelValue,set:p=>g("update:modelValue",p)}),o=v({..._.range});L(()=>_.range,p=>{o.value={...p}});function c(){g("update:range",{...o.value}),g("apply",{...o.value}),d.value=!1}return(p,n)=>{const H=B("VCalendar");return d.value?(u(),m("div",I,[e("div",{class:"date-range-modal-absolute__backdrop",onClick:n[0]||(n[0]=h=>d.value=!1)}),e("div",N,[e("div",T,[n[2]||(n[2]=e("div",{class:"date-range-modal__title"},"Выберите период",-1)),r(H,{modelValue:o.value,"onUpdate:modelValue":n[1]||(n[1]=h=>o.value=h),"is-range":"",columns:1,rows:6,"first-day-of-week":1,"show-caps":!1,"title-position":"left","show-title":!1,class:"date-range-modal__calendar"},null,8,["modelValue"])]),e("button",{class:"date-range-modal__apply",disabled:!o.value.start||!o.value.end,onClick:c},"Применить",8,j)])])):R("",!0)}}},J=M(z,[["__scopeId","data-v-294909fb"]]),Q={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},q=["fill"],G=["fill"],K={__name:"IconSearch",props:{color:{type:String,default:"#80899C"}},setup(V){return(f,_)=>(u(),m("svg",Q,[e("path",{d:"M16.7771 15.3629C17.5518 15.1066 18.4392 15.2866 19.0555 15.9029L22.0971 18.9445C22.9676 19.8151 22.9676 21.2265 22.0971 22.0971C21.2265 22.9676 19.8151 22.9676 18.9445 22.0971L15.9029 19.0555C15.2866 18.4392 15.1066 17.5518 15.3629 16.7771L13.293 14.7072L14.7072 13.293L16.7771 15.3629Z",fill:V.color},null,8,q),e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1 9C1 4.58172 4.58172 1 9 1C13.4183 1 17 4.58172 17 9C17 13.4183 13.4183 17 9 17C4.58172 17 1 13.4183 1 9ZM9 3C5.68629 3 3 5.68629 3 9C3 12.3137 5.68629 15 9 15C12.3137 15 15 12.3137 15 9C15 5.68629 12.3137 3 9 3Z",fill:V.color},null,8,G)]))}},W=$("operations",{state:()=>({operationsByDate:[{date:"10 мая",items:[{bank:"Сбербанк",type:"Покупка",amount:-3020.66,count:10,price:302.41,icon:new URL("/investApp/assets/sber-BHfRv_fn.svg",import.meta.url).href},{bank:"Точка",type:"Покупка",amount:-4820.66,count:10,price:481.33,icon:new URL("data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='32'%20height='32'%20fill='%237F41E0'%20/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M14.3949%2022.45H17.6049V13.8682H21.3499V10.65H10.6499V13.8682H14.3949V22.45Z'%20fill='white'%20/%3e%3c/svg%3e",import.meta.url).href},{bank:"Модульбанк",type:"Продажа",amount:8200.66,count:10,price:802.88,icon:new URL("data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.320068%205.99995C0.320068%202.87995%202.88007%200.319946%206.00007%200.319946H26.0001C29.1201%200.319946%2031.6801%202.87995%2031.6801%205.99995V25.9999C31.6801%2029.1199%2029.1201%2031.6799%2026.0001%2031.6799H6.00007C2.88007%2031.6799%200.320068%2029.1199%200.320068%2025.9999C0.320068%2025.9999%200.320068%205.99995%200.320068%205.99995Z'%20fill='%23072DA0'%20/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6%2032H26.08C29.36%2032%2032%2029.36%2032%2026V6C32%202.64%2029.36%200%2026%200H6C2.64%200%200%202.64%200%206V26C0%2029.36%202.64%2032%206%2032ZM0.64%206C0.64%203.04%203.04%200.64%206%200.64H26C28.96%200.64%2031.36%203.04%2031.36%206V26C31.36%2028.96%2028.96%2031.36%2026%2031.36H6C3.04%2031.36%200.64%2028.96%200.64%2026V6ZM11.2%208H8V14.4H11.2V17.6H8V24H11.2V20.8H14.4V24H17.6V20.8H20.8V24H24V20.8H20.8V17.6H24V11.2H20.8V8H14.4V11.2H11.2V8ZM17.6%2017.6V20.8H14.4V17.6H17.6ZM17.6%2014.4H20.8V17.6H17.6V14.4ZM17.6%2014.4V11.2H14.4V14.4H17.6Z'%20fill='white'%20/%3e%3c/svg%3e",import.meta.url).href}]},{date:"4 мая",items:[{bank:"Сбербанк",type:"Покупка",amount:-3020.66,count:10,price:302.41,icon:new URL("/investApp/assets/sber-BHfRv_fn.svg",import.meta.url).href},{bank:"Модульбанк",type:"Продажа",amount:8200.66,count:10,price:802.88,icon:new URL("data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.320068%205.99995C0.320068%202.87995%202.88007%200.319946%206.00007%200.319946H26.0001C29.1201%200.319946%2031.6801%202.87995%2031.6801%205.99995V25.9999C31.6801%2029.1199%2029.1201%2031.6799%2026.0001%2031.6799H6.00007C2.88007%2031.6799%200.320068%2029.1199%200.320068%2025.9999C0.320068%2025.9999%200.320068%205.99995%200.320068%205.99995Z'%20fill='%23072DA0'%20/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6%2032H26.08C29.36%2032%2032%2029.36%2032%2026V6C32%202.64%2029.36%200%2026%200H6C2.64%200%200%202.64%200%206V26C0%2029.36%202.64%2032%206%2032ZM0.64%206C0.64%203.04%203.04%200.64%206%200.64H26C28.96%200.64%2031.36%203.04%2031.36%206V26C31.36%2028.96%2028.96%2031.36%2026%2031.36H6C3.04%2031.36%200.64%2028.96%200.64%2026V6ZM11.2%208H8V14.4H11.2V17.6H8V24H11.2V20.8H14.4V24H17.6V20.8H20.8V24H24V20.8H20.8V17.6H24V11.2H20.8V8H14.4V11.2H11.2V8ZM17.6%2017.6V20.8H14.4V17.6H17.6ZM17.6%2014.4H20.8V17.6H17.6V14.4ZM17.6%2014.4V11.2H14.4V14.4H17.6Z'%20fill='white'%20/%3e%3c/svg%3e",import.meta.url).href},{bank:"Точка",type:"Покупка",amount:-4820.66,count:10,price:481.33,icon:new URL("data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='32'%20height='32'%20fill='%237F41E0'%20/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M14.3949%2022.45H17.6049V13.8682H21.3499V10.65H10.6499V13.8682H14.3949V22.45Z'%20fill='white'%20/%3e%3c/svg%3e",import.meta.url).href}]},{date:"27 апреля",items:[{bank:"Сбербанк",type:"Покупка",amount:-3020.66,count:10,price:302.41,icon:new URL("/investApp/assets/sber-BHfRv_fn.svg",import.meta.url).href},{bank:"Модульбанк",type:"Продажа",amount:8200.66,count:10,price:802.88,icon:new URL("data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.320068%205.99995C0.320068%202.87995%202.88007%200.319946%206.00007%200.319946H26.0001C29.1201%200.319946%2031.6801%202.87995%2031.6801%205.99995V25.9999C31.6801%2029.1199%2029.1201%2031.6799%2026.0001%2031.6799H6.00007C2.88007%2031.6799%200.320068%2029.1199%200.320068%2025.9999C0.320068%2025.9999%200.320068%205.99995%200.320068%205.99995Z'%20fill='%23072DA0'%20/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6%2032H26.08C29.36%2032%2032%2029.36%2032%2026V6C32%202.64%2029.36%200%2026%200H6C2.64%200%200%202.64%200%206V26C0%2029.36%202.64%2032%206%2032ZM0.64%206C0.64%203.04%203.04%200.64%206%200.64H26C28.96%200.64%2031.36%203.04%2031.36%206V26C31.36%2028.96%2028.96%2031.36%2026%2031.36H6C3.04%2031.36%200.64%2028.96%200.64%2026V6ZM11.2%208H8V14.4H11.2V17.6H8V24H11.2V20.8H14.4V24H17.6V20.8H20.8V24H24V20.8H20.8V17.6H24V11.2H20.8V8H14.4V11.2H11.2V8ZM17.6%2017.6V20.8H14.4V17.6H17.6ZM17.6%2014.4H20.8V17.6H17.6V14.4ZM17.6%2014.4V11.2H14.4V14.4H17.6Z'%20fill='white'%20/%3e%3c/svg%3e",import.meta.url).href}]}]}),actions:{}}),X={class:"operations-page__body"},Y={class:"page__header"},e2={class:"operations-page__filters"},t2={class:"operations-page__search-wrap"},a2={class:"operations-page__selects"},s2={class:"filter-bubble__content"},l2={class:"filter-bubble__label"},o2={class:"filter-bubble__content"},n2={class:"filter-bubble__label"},i2={class:"operations-page__list"},r2={class:"operations-page__date"},d2={class:"operations-page__cards"},c2=["src","alt"],p2={class:"operations-page__info"},u2={class:"operations-page__bank"},_2={class:"operations-page__type"},v2={class:"operations-page__meta"},m2={class:"operations-page__details"},V2={__name:"OperationsPage",setup(V){const f=A();function _(){f.back()}const g=W(),d=v(""),o=v("Период"),c=v("all"),p=[{label:"Все операции",value:"all"},{label:"Покупка",value:"buy"},{label:"Продажа",value:"sell"},{label:"Дивиденды",value:"dividends"},{label:"Купоны",value:"coupons"},{label:"Налоги",value:"taxes"}],n=v(!1),H=v({start:"",end:""});function h(l){l&&l.start&&l.end&&(o.value=`${l.start} – ${l.end}`)}const Z=x(()=>g.operationsByDate.map(l=>({date:l.date,items:l.items.filter(t=>{const a=c.value==="all"||c.value==="buy"&&t.type==="Покупка"||c.value==="sell"&&t.type==="Продажа",s=!d.value||t.bank.toLowerCase().includes(d.value.toLowerCase());return a&&s})})).filter(l=>l.items.length>0));function C(l){return Math.abs(l).toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})}return(l,t)=>(u(),U(E,null,{default:b(()=>[e("section",X,[e("section",Y,[e("button",{class:"page__back",onClick:_},[r(P,{class:"page__back-icon",color:"#4868EA"}),t[5]||(t[5]=e("span",{class:"page__back-text"},"Back",-1))])]),t[6]||(t[6]=e("h1",{class:"operations-page__title"},"Операции",-1)),e("div",e2,[e("div",t2,[r(D,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=a=>d.value=a),placeholder:"Поиск по активам"},{prefix:b(()=>[r(K)]),_:1},8,["modelValue"])]),e("div",a2,[r(S,{class:"filter-bubble-period",onClick:t[1]||(t[1]=a=>n.value=!0)},{default:b(()=>[e("div",s2,[e("span",l2,i(o.value),1),r(w,{class:"filter-bubble__icon"})])]),_:1}),r(F,{class:"filter-bubble-type",options:p,modelValue:c.value,"onUpdate:modelValue":t[2]||(t[2]=a=>c.value=a)},{default:b(()=>{var a;return[e("div",o2,[e("span",n2,i((a=p.find(s=>s.value===c.value))==null?void 0:a.label),1),r(w)])]}),_:1},8,["modelValue"])])]),e("div",i2,[(u(!0),m(y,null,k(Z.value,a=>(u(),m("div",{key:a.date,class:"operations-page__group"},[e("div",r2,i(a.date),1),e("div",d2,[(u(!0),m(y,null,k(a.items,s=>(u(),m("div",{key:s.bank+s.amount+s.type,class:"operations-page__card"},[e("img",{src:s.icon,alt:s.bank,class:"operations-page__icon"},null,8,c2),e("div",p2,[e("div",u2,i(s.bank),1),e("div",_2,i(s.type),1)]),e("div",v2,[e("div",{class:O(["operations-page__amount",s.amount>0?"operations-page__amount--positive":"operations-page__amount--negative"])},i(s.amount>0?"+":"")+i(C(s.amount))+" ₽ ",3),e("div",m2,i(s.count)+" шт · "+i(C(s.price)),1)])]))),128))])]))),128))]),r(J,{modelValue:n.value,"onUpdate:modelValue":t[3]||(t[3]=a=>n.value=a),range:H.value,"onUpdate:range":t[4]||(t[4]=a=>H.value=a),onApply:h},null,8,["modelValue","range"])])]),_:1}))}},h2=M(V2,[["__scopeId","data-v-e6ea333f"]]);export{h2 as default};
