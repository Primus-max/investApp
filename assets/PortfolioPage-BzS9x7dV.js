import{_ as b,c as l,o as i,a as e,b as _,t as r,e as j,h as C,l as H,p as q,i as $,w as f,u as T,j as u,F as k,r as D,f as w,d as K,q as O,s as M,v as z,x as W}from"./index-Dt23NJKA.js";import{_ as G,a as J,b as Q,c as X,d as Y,e as e1,f as t1,g as s1,h as a1,i as o1,j as n1,k as i1,l as r1,u as l1,M as _1,m as I,P as c1,S as u1,A as d1,n as C1,I as v1}from"./AppPillButton-BDn7jmr8.js";const p1={},m1={width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function f1(a,n){return i(),l("svg",m1,n[0]||(n[0]=[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.0303 3.54969C16.3232 3.84258 16.3232 4.31745 16.0303 4.61035L9.5103 11.1303C9.03319 11.6075 9.03319 12.3926 9.5103 12.8697L16.0303 19.3897C16.3232 19.6826 16.3232 20.1575 16.0303 20.4503C15.7374 20.7432 15.2625 20.7432 14.9696 20.4503L8.44964 13.9303C7.38674 12.8675 7.38674 11.1326 8.44964 10.0697L14.9696 3.54969C15.2625 3.25679 15.7374 3.25679 16.0303 3.54969Z",fill:"#FFFFFF"},null,-1)]))}const g1=b(p1,[["render",f1]]),L1={},h1={width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function b1(a,n){return i(),l("svg",h1,n[0]||(n[0]=[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.4698 0.257815H11.6553C11.972 0.257776 12.2696 0.257739 12.519 0.286272C12.7969 0.318066 13.0892 0.391596 13.3619 0.588553C13.6345 0.785421 13.7963 1.0397 13.9141 1.29341C14.0199 1.52128 14.1139 1.80398 14.2141 2.10512L14.2248 2.13723L14.553 3.11747C14.6477 3.35625 14.8134 3.55976 15.0273 3.7005L15.3297 3.87498C15.5828 4.00091 15.871 4.03679 16.1471 3.97683L17.348 3.63858L17.3827 3.62874C17.7107 3.53561 18.0174 3.44852 18.2815 3.40659C18.5753 3.35995 18.8967 3.354 19.229 3.48915C19.5611 3.62426 19.7872 3.85276 19.9652 4.09105C20.1253 4.30543 20.2846 4.58194 20.455 4.87785L20.9851 5.79775C21.1448 6.0748 21.2946 6.33479 21.3951 6.56693C21.5071 6.82544 21.5897 7.11728 21.5543 7.45385C21.5189 7.79046 21.3775 8.05876 21.2142 8.28833C21.0676 8.49447 20.867 8.71754 20.6532 8.95521L20.6308 8.98013L20.6295 8.9816L19.6184 10.112C19.492 10.2833 19.3599 10.6555 19.3599 11.0077C19.3599 11.3602 19.492 11.7323 19.6183 11.9035L20.6308 13.0354L20.6533 13.0604C20.867 13.298 21.0676 13.5211 21.2142 13.7272C21.3775 13.9568 21.5189 14.2251 21.5543 14.5617C21.5897 14.8983 21.5071 15.1901 21.3951 15.4486C21.2946 15.6808 21.1447 15.9408 20.985 16.2179L20.4551 17.1377C20.2846 17.4336 20.1253 17.7101 19.9652 17.9245C19.7872 18.1628 19.5612 18.3913 19.2289 18.5264C18.8966 18.6615 18.5753 18.6556 18.2815 18.6089C18.0174 18.567 17.7106 18.4799 17.3826 18.3868L17.348 18.3769L16.1471 18.0387C15.871 17.9787 15.5827 18.0146 15.3296 18.1406L15.0273 18.3151C14.8134 18.4558 14.6477 18.6593 14.553 18.898L14.2252 19.877L14.2141 19.9105C14.1139 20.2117 14.0199 20.4944 13.9141 20.7222C13.7963 20.9759 13.6345 21.2302 13.3619 21.4271C13.0892 21.624 12.7969 21.6976 12.519 21.7294C12.2696 21.7579 11.9719 21.7579 11.6552 21.7578H10.4698C10.1531 21.7579 9.85553 21.7579 9.60609 21.7294C9.32815 21.6976 9.03587 21.624 8.76314 21.4271C8.49053 21.2302 8.32874 20.9759 8.21094 20.7222C8.10514 20.4943 8.01112 20.2116 7.91098 19.9105L7.89985 19.877L7.57206 18.898C7.47735 18.6593 7.31166 18.4558 7.0978 18.3151L6.79548 18.1406C6.54234 18.0146 6.25404 17.9787 5.97796 18.0387L4.77713 18.3769L4.74246 18.3868C4.41444 18.4799 4.1077 18.567 3.84357 18.6089C3.54981 18.6556 3.22844 18.6615 2.89613 18.5264C2.56393 18.3913 2.33788 18.1628 2.15991 17.9245C1.99978 17.7101 1.84049 17.4336 1.67003 17.1377L1.65132 17.1052L1.14002 16.2178C0.980322 15.9408 0.830464 15.6808 0.729934 15.4486C0.617997 15.1901 0.535419 14.8983 0.570779 14.5617C0.606142 14.2251 0.747585 13.9568 0.910849 13.7272C1.05745 13.5211 1.25809 13.298 1.47185 13.0603L1.49427 13.0354L1.49559 13.0339L2.50674 11.9035C2.63313 11.7322 2.76522 11.3602 2.76522 11.0077C2.76522 10.6555 2.6331 10.2833 2.50672 10.1121L1.49558 8.9816L1.49427 8.98013L1.47185 8.95521C1.25808 8.71754 1.05745 8.49447 0.910846 8.28833C0.747581 8.05876 0.60614 7.79046 0.570777 7.45386C0.53542 7.11728 0.617994 6.82544 0.729932 6.56693C0.830461 6.33478 0.98032 6.07478 1.14002 5.79771C1.14591 5.78748 1.15182 5.77723 1.15774 5.76695L1.65133 4.91035C1.65758 4.89951 1.66382 4.88869 1.67003 4.87789C1.8405 4.58196 1.99979 4.30544 2.15992 4.09105C2.33789 3.85276 2.56393 3.62426 2.89612 3.48915C3.22843 3.354 3.54979 3.35995 3.84354 3.40659C4.10768 3.44852 4.41441 3.53561 4.74242 3.62873C4.75415 3.63206 4.76591 3.6354 4.77769 3.63874C4.77741 3.63867 4.77796 3.63882 4.77769 3.63874L5.97801 3.97683C6.25403 4.03679 6.54225 4.00091 6.79536 3.87498L7.09775 3.7005C7.31165 3.55976 7.47737 3.35626 7.57209 3.11748L7.89985 2.13861C7.89978 2.13883 7.89992 2.1384 7.89985 2.13861C7.9035 2.12765 7.90735 2.11607 7.91098 2.10516C8.01112 1.80401 8.10514 1.52129 8.21094 1.29341C8.32874 1.0397 8.49054 0.785421 8.76314 0.588553C9.03587 0.391596 9.32815 0.318066 9.60609 0.286272C9.85552 0.257739 10.1531 0.257776 10.4698 0.257815ZM9.64134 1.8046L9.64052 1.80531C9.63994 1.80589 9.63713 1.80875 9.63211 1.81549C9.62125 1.83007 9.60097 1.8615 9.57145 1.92509C9.50603 2.06598 9.43839 2.26573 9.32315 2.61212L8.9836 3.62623L8.9778 3.64134C8.76766 4.1892 8.38793 4.65557 7.89389 4.97199L7.87925 4.98136L7.5115 5.19355L7.49525 5.2019C6.919 5.49797 6.25674 5.58058 5.62547 5.435L5.60796 5.43097L4.36901 5.082C3.99228 4.97509 3.7731 4.91419 3.60833 4.88803C3.53382 4.8762 3.49394 4.8758 3.47497 4.87695C3.46625 4.87748 3.46237 4.87832 3.46184 4.87844L3.46062 4.87894C3.4601 4.87926 3.45668 4.88141 3.44999 4.88718C3.43545 4.89973 3.40701 4.928 3.36172 4.98864C3.26165 5.12263 3.14675 5.31955 2.95101 5.65925L2.45742 6.51585C2.2738 6.83451 2.16865 7.01928 2.10642 7.16298C2.07834 7.22784 2.06827 7.26425 2.06457 7.28229C2.06286 7.29064 2.06259 7.29474 2.06254 7.29566L2.06257 7.29713L2.06284 7.29856C2.06308 7.29943 2.06419 7.30337 2.06759 7.31116C2.07493 7.32798 2.09232 7.36145 2.13325 7.419C2.22394 7.54652 2.36514 7.70526 2.61097 7.97865L2.61229 7.98011L3.65863 9.14993L3.67286 9.16794C4.04727 9.64195 4.26522 10.3703 4.26522 11.0077C4.26522 11.6452 4.04736 12.3735 3.67289 12.8476L3.65866 12.8656L2.61229 14.0354L2.61097 14.0369C2.36514 14.3103 2.22394 14.469 2.13325 14.5966C2.09232 14.6541 2.07494 14.6876 2.06759 14.7044C2.06419 14.7122 2.06308 14.7161 2.06284 14.717L2.06257 14.7184L2.06254 14.7199C2.06259 14.7208 2.06286 14.7249 2.06457 14.7333C2.06827 14.7513 2.07834 14.7877 2.10643 14.8526C2.16865 14.9963 2.2738 15.1811 2.45742 15.4997L2.95099 16.3563C3.14673 16.696 3.26163 16.8929 3.36171 17.0269C3.407 17.0875 3.43544 17.1158 3.44999 17.1284C3.45668 17.1341 3.4601 17.1363 3.46062 17.1366L3.46183 17.1371C3.46237 17.1372 3.46624 17.1381 3.47496 17.1386C3.49393 17.1397 3.53381 17.1393 3.60833 17.1275C3.7731 17.1013 3.99228 17.0404 4.36902 16.9335L5.6079 16.5845L5.62541 16.5805C6.25679 16.4349 6.91919 16.5176 7.49551 16.8137L7.51175 16.8221L7.87945 17.0343L7.89408 17.0437C8.38802 17.3601 8.76767 17.8264 8.97777 18.3742L8.98357 18.3893L9.32315 19.4035C9.43839 19.7499 9.50603 19.9497 9.57145 20.0906C9.60097 20.1541 9.62125 20.1856 9.63211 20.2001C9.63713 20.2069 9.63994 20.2097 9.64052 20.2103L9.64134 20.211C9.64201 20.2114 9.64636 20.2136 9.65422 20.2162C9.67124 20.2218 9.7072 20.2311 9.77656 20.2391C9.9304 20.2567 10.1407 20.2578 10.5052 20.2578H11.6199C11.9844 20.2578 12.1947 20.2567 12.3485 20.2391C12.4179 20.2311 12.4538 20.2218 12.4709 20.2162C12.4787 20.2136 12.4822 20.2119 12.4829 20.2115L12.4846 20.2103C12.4851 20.2097 12.4879 20.2069 12.493 20.2001C12.5038 20.1856 12.5241 20.1541 12.5536 20.0906C12.619 19.9497 12.6867 19.7499 12.8019 19.4035L12.8024 19.4021L13.1415 18.3893L13.1473 18.3742C13.3574 17.8264 13.7371 17.3601 14.231 17.0437L14.2456 17.0343L14.6133 16.8221L14.6296 16.8137C15.2059 16.5176 15.8683 16.4349 16.4997 16.5805L16.5172 16.5845L17.7561 16.9335C18.1328 17.0404 18.352 17.1013 18.5168 17.1275C18.5913 17.1393 18.6311 17.1397 18.6501 17.1386C18.6588 17.1381 18.6627 17.1372 18.6632 17.1371L18.6645 17.1366C18.665 17.1363 18.6684 17.1341 18.6751 17.1284C18.6896 17.1158 18.7181 17.0875 18.7634 17.0269C18.8634 16.8929 18.9784 16.696 19.1741 16.3563L19.6677 15.4997C19.8513 15.1811 19.9564 14.9963 20.0187 14.8526C20.0467 14.7877 20.0568 14.7513 20.0605 14.7333C20.0622 14.7249 20.0625 14.7208 20.0625 14.7199L20.0625 14.7184L20.0622 14.717C20.062 14.7161 20.0609 14.7122 20.0575 14.7044C20.0501 14.6876 20.0328 14.6541 19.9918 14.5966C19.9011 14.469 19.7599 14.3103 19.5141 14.0369L18.4664 12.8656L18.4522 12.8476C18.0777 12.3735 17.8599 11.6452 17.8599 11.0077C17.8599 10.3703 18.0778 9.64195 18.4522 9.16794L18.4665 9.14993L19.5128 7.98012L19.5141 7.97865C19.7599 7.70526 19.9011 7.54652 19.9918 7.419C20.0328 7.36145 20.0501 7.32798 20.0575 7.31116C20.0609 7.30337 20.062 7.29943 20.0622 7.29856L20.0625 7.29714L20.0625 7.29566C20.0625 7.29474 20.0622 7.29064 20.0605 7.28229C20.0568 7.26425 20.0467 7.22784 20.0187 7.16298C19.9564 7.01928 19.8513 6.83451 19.6677 6.51585L19.1741 5.65925C18.9783 5.31955 18.8634 5.12263 18.7634 4.98864C18.7181 4.928 18.6896 4.89973 18.6751 4.88718C18.6684 4.88141 18.665 4.87926 18.6645 4.87894L18.6632 4.87844C18.6627 4.87832 18.6588 4.87748 18.6501 4.87695C18.6311 4.8758 18.5913 4.8762 18.5167 4.88803C18.352 4.91419 18.1328 4.97509 17.7561 5.082L16.5171 5.43097L16.4996 5.435C15.8683 5.58058 15.2061 5.49797 14.6298 5.2019L14.6136 5.19355L14.2458 4.98136L14.2312 4.97199C13.7372 4.65557 13.3574 4.1892 13.1473 3.64134L13.1415 3.62623L12.8019 2.61212C12.6867 2.26573 12.619 2.06598 12.5536 1.92509C12.5241 1.8615 12.5038 1.83007 12.493 1.81549C12.488 1.80875 12.4851 1.80589 12.4846 1.80531L12.4837 1.8046C12.4831 1.80426 12.4787 1.80203 12.4709 1.79942C12.4538 1.79379 12.4179 1.78449 12.3485 1.77655C12.1947 1.75896 11.9844 1.75782 11.6199 1.75782H10.5052C10.1407 1.75782 9.9304 1.75896 9.77656 1.77655C9.7072 1.78449 9.67124 1.79379 9.65423 1.79942C9.64636 1.80203 9.64201 1.80426 9.64134 1.8046Z",fill:"#FFFFFF"},null,-1),e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.0195 8.25C9.50075 8.25 8.26953 9.48122 8.26953 11C8.26953 12.5188 9.50075 13.75 11.0195 13.75C12.5383 13.75 13.7695 12.5188 13.7695 11C13.7695 9.48122 12.5383 8.25 11.0195 8.25ZM6.76953 11C6.76953 8.65279 8.67232 6.75 11.0195 6.75C13.3667 6.75 15.2695 8.65279 15.2695 11C15.2695 13.3472 13.3667 15.25 11.0195 15.25C8.67232 15.25 6.76953 13.3472 6.76953 11Z",fill:"#FFFFFF"},null,-1)]))}const y1=b(L1,[["render",b1]]),F1={class:"asset-item"},k1={class:"asset-item__icon"},w1=["src","alt"],x1={class:"asset-item__content"},P1={class:"asset-item__name"},B1={class:"asset-item__details"},$1={class:"asset-item__right"},D1={class:"asset-item__amount"},M1={__name:"PortfolioAssetCard",props:{asset:{type:Object,required:!0,validator:a=>a&&typeof a.bank=="string"&&typeof a.amount=="number"&&typeof a.count=="number"&&typeof a.price=="number"&&typeof a.percent=="number"&&typeof a.profit=="number"}},setup(a){const n=a,y=_(()=>new Intl.NumberFormat("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(n.asset.amount)+" ₽"),F=_(()=>new Intl.NumberFormat("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(n.asset.price)+" ₽"),s=_(()=>new Intl.NumberFormat("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(Math.abs(n.asset.profit))),g=_(()=>Math.abs(n.asset.percent)),v=_(()=>n.asset.profit>=0?"asset-item__profit--positive":"asset-item__profit--negative"),d=_(()=>n.asset.profit>=0?"+":"-"),p=c=>new URL(Object.assign({"../../assets/icons/coins/appCoinsBadge.svg":r1,"../../assets/icons/coins/bitcoin.svg":i1,"../../assets/icons/coins/chainlinkBadge.svg":n1,"../../assets/icons/coins/ethereum.svg":o1,"../../assets/icons/coins/minaBadge.svg":a1,"../../assets/icons/coins/modul.svg":s1,"../../assets/icons/coins/rub.svg":t1,"../../assets/icons/coins/sber.svg":e1,"../../assets/icons/coins/sovkom.svg":Y,"../../assets/icons/coins/tetherBadge.svg":X,"../../assets/icons/coins/tochka.svg":Q,"../../assets/icons/coins/ton.svg":J,"../../assets/icons/coins/xmr.svg":G})[`../../assets/icons/coins/${c}.svg`],import.meta.url).href;return(c,m)=>(i(),l("div",F1,[e("div",k1,[e("img",{src:p(a.asset.logo),alt:a.asset.bank,class:"asset-item__icon-img"},null,8,w1)]),e("div",x1,[e("div",P1,r(a.asset.bank),1),e("div",B1,r(a.asset.count)+" шт "+r(F.value),1)]),e("div",$1,[e("div",D1,r(y.value),1),e("div",{class:j(["asset-item__profit",v.value])},r(d.value)+" "+r(g.value)+"% • "+r(d.value)+r(s.value),3)])]))}},I1=b(M1,[["__scopeId","data-v-62663cb6"]]),N1={class:"page__header"},A1={class:"page__header-stats-row"},R1={class:"page__header-stats-main"},U1={class:"page__header-stats-info"},S1={class:"page__header-stats-title"},E1={key:1},V1={class:"page__header-stats-value-row"},Z1={class:"page__header-stats-value"},j1={class:"page__header-stats-icon"},H1={class:"page__header-bell-bg"},q1={key:0,class:"page__header-badge-row"},T1={class:"page__header-badge"},K1={class:"page__header-badge-percent"},O1={class:"page__body"},z1={class:"page__body-header"},W1={class:"page__body-header-actions"},G1={class:"page__widgets-grid"},J1={key:0,class:"page__body-portfolio"},Q1={class:"page__body-portfolio-list page__body-portfolio-list--unified"},X1={key:1,class:"page__body-portfolio-empty"},Y1={__name:"PortfolioPage",setup(a){const n=q(),y=T(),F=l1(),s=C(null),g=C(!0),v=C(!1),d=C(!1),p=C(!1),c=C(""),m=C(null);H(async()=>{const B=n.params.id,t=await F.fetchPortfolioById(B);if(!t){v.value=!0,g.value=!1;return}s.value={...t,amount:t.totalAmount,profit:t.totalProfit,percent:t.totalPercent,icons:Array.isArray(t.assets)?t.assets.map(o=>o.logo):[]},g.value=!1});const N=_(()=>s.value?new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",minimumFractionDigits:2}).format(s.value.amount):"0"),L=_(()=>s.value&&typeof s.value.profit=="number"&&typeof s.value.percent=="number"),A=_(()=>L.value?new Intl.NumberFormat("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2}).format(Math.abs(s.value.profit)):""),R=_(()=>L.value?Math.abs(s.value.percent).toFixed(2):""),U=_(()=>L.value?s.value.profit>=0?"+":"-":""),S=_(()=>!s.value||!s.value.assets?[]:s.value.assets);function E(){y.back()}function V(){s.value&&(c.value=s.value.name,p.value=!0,W(()=>{m.value&&(m.value.focus(),m.value.select())}))}function x(){if(!c.value.trim()){P();return}s.value&&(s.value.name=c.value.trim()),p.value=!1}function P(){p.value=!1,c.value=""}const Z=[{title:"Прибыль",value:67981,currency:"₽",trend:{value:12,positive:!0},chartData:[20,22,28,25,28,12,30,32,33,38,42,40,45,22,23,21,42,26,25,40],color:"green"},{title:"Доходность",value:67981,currency:"₽",trend:{value:8,positive:!1},chartData:[34,32,38,35,32,30,28,25,22,20,18,15,12,10,8,5,2,0,-2,-5],color:"red"},{title:"Стоимость капитала",value:67981,currency:"₽",trend:{value:24,positive:!0},chartData:[40,42,45,43,48,52,50,55,58,62,60,65,68,72,70,75,78,82,85,88],color:"green"}];return(B,t)=>(i(),$(_1,null,{header:f(()=>{var o;return[e("section",N1,[e("button",{class:"page__back",onClick:E},[u(g1,{class:"page__back-icon"}),t[3]||(t[3]=e("span",{class:"page__back-text"},"Back",-1))]),e("div",A1,[e("div",R1,[e("div",U1,[e("div",S1,[p.value?O((i(),l("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=h=>c.value=h),onBlur:x,onKeyup:[M(x,["enter"]),M(P,["escape"])],class:"page__header-edit-input",ref_key:"nameInput",ref:m},null,544)),[[z,c.value]]):(i(),l("span",E1,r(((o=s.value)==null?void 0:o.name)||"—"),1)),u(I,{color:"#fff",class:"page__header-edit",onClick:V})]),e("div",V1,[e("span",Z1,r(v.value?"0":N.value),1)])]),e("div",j1,[e("div",H1,[u(y1)])])]),!v.value&&L.value?(i(),l("div",q1,[e("span",T1,[w(r(U.value)+" "+r(A.value)+" ₽ ",1),e("span",K1,"("+r(R.value)+"%)",1)]),t[4]||(t[4]=e("span",{class:"page__header-badge-period"},"за все время",-1))])):K("",!0)])])]}),default:f(()=>[e("section",O1,[e("div",z1,[t[5]||(t[5]=e("h1",{class:"page__body-header-title"},"Виджеты",-1)),e("div",W1,[d.value?(i(),l(k,{key:1},[u(c1),e("button",{class:"page__body-header-done",onClick:t[2]||(t[2]=o=>d.value=!1)}," Готов ")],64)):(i(),l("button",{key:0,class:"page__body-header-button",onClick:t[1]||(t[1]=o=>d.value=!0)},[u(I,{class:"page__body-header-button-icon"})]))])]),e("div",G1,[(i(),l(k,null,D(Z,(o,h)=>u(u1,{key:h,title:o.title,value:o.value,percent:o.trend.value,positive:o.trend.positive,"chart-data":o.chartData,type:h===2?"rect":"square",editMode:d.value},null,8,["title","value","percent","positive","chart-data","type","editMode"])),64))]),u(d1,{class:"page__app-banner"},{default:f(()=>t[6]||(t[6]=[w(" Умные советы и инструменты для роста ")])),_:1,__:[6]}),v.value?(i(),l("div",X1,[u(C1,null,{icon:f(()=>[u(v1)]),default:f(()=>[t[8]||(t[8]=w(" Добавить портфель "))]),_:1,__:[8]})])):(i(),l("section",J1,[t[7]||(t[7]=e("h2",{class:"page__body-portfolio-title"}," Мои активы ",-1)),e("div",Q1,[(i(!0),l(k,null,D(S.value,o=>(i(),$(I1,{key:o.bank,asset:o},null,8,["asset"]))),128))])]))])]),_:1}))}},s2=b(Y1,[["__scopeId","data-v-5741751f"]]);export{s2 as default};
