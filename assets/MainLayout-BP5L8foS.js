import{_ as B,c as l,o as s,l as P,a as t,r as A,b as y,u as q,n as L,k as p,f as k,w as N,F as h,g as $,D as b,W as V,V as f,t as M,d as w,X as E,E as O,p as R,K as x,i as S,e as F,q as U}from"./index-D0JJplmb.js";const D={class:"app-banner"},Y={class:"app-banner__content"},z={__name:"AppBanner",setup(r){return(v,i)=>(s(),l("div",D,[i[0]||(i[0]=P('<div class="app-banner__bg" data-v-abb132eb></div><div class="app-banner__waves" data-v-abb132eb></div><div class="app-banner__fractal" data-v-abb132eb></div><div class="app-banner__fractal-glass" data-v-abb132eb></div><div class="app-banner__plastic" data-v-abb132eb></div><div class="app-banner__glass" data-v-abb132eb></div><div class="app-banner__shapes" data-v-abb132eb><div class="app-banner__shape app-banner__shape--1" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--2" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--3" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--4" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--5" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--6" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--7" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--8" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--9" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--10" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--11" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--12" data-v-abb132eb></div><div class="app-banner__shape app-banner__shape--13" data-v-abb132eb></div></div><div class="app-banner__shadow" data-v-abb132eb></div>',8)),t("div",Y,[A(v.$slots,"default",{},void 0,!0)])]))}},H=B(z,[["__scopeId","data-v-abb132eb"]]),K={key:0,class:"tab-bar__overlay"},W={key:0,class:"tab-bar__menu-nav","aria-label":"Меню действий"},X={class:"tab-bar__menu-list"},j=["onClick"],G={class:"tab-bar__menu-item-icon"},J={class:"tab-bar__menu-item-label"},Q={class:"tab-bar__tabs"},Z=["onClick"],aa={class:"tab-bar__icon"},ea={key:0,class:"tab-bar__label"},na=["onClick"],ta={class:"tab-bar__content"},sa={class:"tab-bar__tabs"},la=["onClick"],ba={class:"tab-bar__icon"},ra={key:0,class:"tab-bar__label"},ca=["onClick"],_a={class:"tab-bar__content"},ia={__name:"TabBar",props:{tabs:{type:Array,required:!0},activeIndex:{type:Number,default:0}},emits:["update:activeIndex","menu-open"],setup(r,{emit:v}){const i=r,o=v,e=y(!1),m=q(),g=L(),d=[{icon:"briefcase-01",label:"Создать портфель"},{icon:"coins-swap",label:"Создать сделку"},{icon:"elements",label:"Добавить виджет"},{icon:"document-text",label:"Загрузить отчет"}];function u(_){i.tabs[_].center?(e.value=!e.value,o("menu-open",e.value)):o("update:activeIndex",_)}function I(_){_.label==="Создать портфель"&&(m.openCreatePortfolioModal(),e.value=!1),_.label==="Создать сделку"&&(g.openAddOperationModal(),e.value=!1)}return(_,C)=>e.value?(s(),l("div",K,[e.value?(s(),l("nav",W,[k(H,{class:"tab-bar__menu-banner"},{default:N(()=>C[0]||(C[0]=[t("div",null,[t("span",{class:"tab-bar__menu-banner-icon"},"✨"),t("span",{class:"tab-bar__menu-banner-title"},"Чат с ИИ"),t("span",{class:"tab-bar__menu-banner-badge"},"3/3 доступно")],-1)])),_:1,__:[0]}),t("ul",X,[(s(),l(h,null,$(d,a=>t("li",{key:a.label,class:"tab-bar__menu-list-item"},[t("a",{href:"#",class:"tab-bar__menu-item",onClick:V(n=>I(a),["prevent"])},[t("span",G,[k(f,{name:a.icon},null,8,["name"])]),t("span",J,M(a.label),1)],8,j)])),64))])])):p("",!0),t("nav",{class:b(["tab-bar",{"tab-bar--menu-open":e.value}])},[t("div",Q,[(s(!0),l(h,null,$(r.tabs,(a,n)=>(s(),l(h,null,[a.center?(s(),l("button",{key:"center-"+n,class:b(["tab-bar__item",{"tab-bar__item--active":n===r.activeIndex,"tab-bar__item--center":a.center}]),onClick:c=>u(n),type:"button"},[t("div",ta,[k(f,{name:e.value?"close-square":"plus-sign-square",active:e.value},null,8,["name","active"])])],10,na)):(s(),l("button",{key:a.label+n,class:b(["tab-bar__item",{"tab-bar__item--active":n===r.activeIndex,"tab-bar__item--center":a.center,"tab-bar__tabs--blur":e.value&&!a.center}]),onClick:c=>u(n),type:"button"},[t("div",{class:b(["tab-bar__content",{"tab-bar__content--blur":e.value}])},[t("span",aa,[a.icon?(s(),w(f,{key:0,name:a.icon,class:b([{"tab-bar__item--active":n===r.activeIndex}])},null,8,["name","class"])):p("",!0)]),a.label?(s(),l("span",ea,M(a.label),1)):p("",!0)],2)],10,Z))],64))),256))])],2)])):(s(),l("nav",{key:1,class:b(["tab-bar",{"tab-bar--menu-open":e.value}])},[t("div",sa,[(s(!0),l(h,null,$(r.tabs,(a,n)=>(s(),l(h,null,[a.center?(s(),l("button",{key:"center-"+n,class:b(["tab-bar__item",{"tab-bar__item--active":n===r.activeIndex,"tab-bar__item--center":a.center}]),onClick:c=>u(n),type:"button"},[t("div",_a,[k(f,{name:e.value?"close-square":"plus-sign-square",active:e.value},null,8,["name","active"])])],10,ca)):(s(),l("button",{key:a.label+n,class:b(["tab-bar__item",{"tab-bar__item--active":n===r.activeIndex,"tab-bar__item--center":a.center,"tab-bar__tabs--blur":e.value&&!a.center}]),onClick:c=>u(n),type:"button"},[t("div",{class:b(["tab-bar__content",{"tab-bar__content--blur":e.value}])},[t("span",ba,[a.icon?(s(),w(f,{key:0,name:a.icon,class:b([{"tab-bar__item--active":n===r.activeIndex}])},null,8,["name","class"])):p("",!0)]),a.label?(s(),l("span",ra,M(a.label),1)):p("",!0)],2)],10,la))],64))),256))])],2))}},oa=B(ia,[["__scopeId","data-v-a7b4da1c"]]),ua={class:"main-layout"},da={key:0,class:"app-blur-overlay"},pa={__name:"MainLayout",setup(r){const v=[{icon:"home-05",label:"Главная"},{icon:"briefcase-01",label:"Портфель"},{center:!0},{icon:"menu-square",label:"Рынок"},{icon:"user",label:"Профиль"}],i=F(),o=U(),e=y(0),m=y(!1),g=y(!1),d=y(null);let u=0;function I(n){switch(e.value=n,n){case 0:i.push("/");break;case 1:i.push("/portfolio/1");break;case 3:console.log("Рынок - пока не реализован");break;case 4:i.push("/profile");break}}function _(n){const c=n.target.scrollTop;c>u?m.value=!0:c<u&&(m.value=!1),u=c}function C(){o.name==="MainPage"?e.value=0:o.name==="PortfolioPage"||o.name==="AnalyticsPage"?e.value=1:o.name==="ProfilePage"&&(e.value=4)}const a=E();return O(o,C,{immediate:!0}),R(()=>{d.value&&d.value.addEventListener("scroll",_)}),x(()=>{d.value&&d.value.removeEventListener("scroll",_)}),(n,c)=>(s(),l("div",ua,[g.value?(s(),l("div",da)):p("",!0),t("div",{class:b(["main-layout__header",{"main-layout__header--empty":!S(a).header}])},[A(n.$slots,"header",{},void 0,!0)],2),t("div",{class:b(["main-layout__body",{"main-layout__body--no-header":!S(a).header}])},[A(n.$slots,"default",{},void 0,!0)],2),t("div",{class:b(["main-layout__tabbar-wrap",{"main-layout__tabbar-wrap--hidden":m.value}])},[k(oa,{tabs:v,activeIndex:e.value,"onUpdate:activeIndex":I,onMenuOpen:c[0]||(c[0]=T=>g.value=T)},null,8,["activeIndex"])],2)]))}},ma=B(pa,[["__scopeId","data-v-b285ca61"]]);export{H as A,ma as M};
